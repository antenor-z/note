<!DOCTYPE html>
<html>

<head>
    <title>Note</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/scrollbar.css">
    <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="A4NOTE" />
    <link rel="manifest" href="/favicon/site.webmanifest" />
</head>

<body>
    <div id="loader" style="position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #141414;
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;">
        <div>
            <img style='width: 20px; opacity: 70%' src='/img/spinner.gif'>
            Loading
        </div>
    </div>
    <content>
        <div class="control-bar">
            <button onclick="addNote.showModal()">New</button>
            <button onclick="toggleFilters()">Config</button>
            <input id="search" type="text" placeholder="search">
        </div>
        <div id="filter-container" class="grid box padding20" style="display: none;">
            <label for="showHidden">Hidden notes</label>
            <select name="showHidden" id="showHidden">
                <option value="no" selected>Hide</option>
                <option value="yes">Show</option>
            </select>
            <label for="priority">Priority equal or above</label>
            <select name="priority" id="priority">
                <option value="0" selected>None</option>
                <option value="1">Low</option>
                <option value="2">Medium</option>
                <option value="3">High</option>
            </select>
            <div class="edit-action-container">
                <button onclick="toggleFilters()">Close</button>
                <button onclick="logout()">Exit session</button>
            </div>
        </div>
        
        <dialog id="addNote">
            <div class="box grid">
                <label for="noteTitle">Title</label>
                <input id="noteTitle" type="textbox" required>
                <label for="noteContent">Content</label>
                <textarea id="noteContent"></textarea>
                <label for="noteCategories">Categories (comma separated)</label>
                <input id="noteCategories" type="textbox">
                <div style="display: none;" id="moreOptions">
                    <label for="noteDeadline">Deadline (optional)</label>
                    <input id="noteDeadline" type="datetime-local"></input>
                    <label for="notePriority">Priority (optional)</label>
                    <select name="notePriority" id="notePriority">
                        <option value="0">None</option>
                        <option value="1">Low</option>
                        <option value="2">Medium</option>
                        <option value="3">High</option>
                    </select>
                    <label for="noteIsHidden">Hidden note</label>
                    <select name="noteIsHidden" id="noteIsHidden">
                        <option value="no">No (default)</option>
                        <option value="yes">Yes</option>
                    </select>
                </div>
                <div class="edit-action-container">
                    <button onclick="sendNote()">Add</button>
                    <button onclick="toggleMoreOptions()">More options</button>
                    <button onclick="closeSendNote()">Cancel</button>
                </div>
            </div>
        </dialog>

        <div id="categories-container" class="grid box categories-container">
            Loading...
        </div>
        <div id="notes-container">
            Loading...
        </div>
        <span id="version"></span>
    </content>
    <script src="js/3p/marked.min.js"></script>
    <script src="js/3p/purify.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/note.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/logout.js"></script>
    <script src="js/version.js"></script>
    <script src="js/search.js"></script>
    <script src="js/loader.js"></script>
    <script src="js/filter.js"></script>
</body>

</html>